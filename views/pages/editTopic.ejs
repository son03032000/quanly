<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/header') %>
</head>
    
<body>
    <%- include('../partials/topnav') %>
    <% const timeFormat = (time) => { 
        let dt = new Date(+time);
        return `${dt.getFullYear()}-${("0" + (dt.getMonth() + 1)).slice(-2)}-${("0" + dt.getDate()).slice(-2)}`;
    } %>
    <br>
    <div>
        <form action="/POST/EditTopic" method="POST">
            <input type="hidden" name="topicID" value="<%- data.Topic.TopicID %>">
            <label for="title">Title:</label>
            <input type="text" name="title" id="title" placeholder="Title" value="<%- data.Topic.TopicName %>" required><br>
            <label for="faculty">Faculty:</label>
            <select name="faculty" required>
                <% for (let faculty of data.Faculty) { %>
                    <option value="<%- faculty.FacultyID %>"><%- faculty.FacultyName %></option>
                <% } %>
            </select><br>
            <label for="deadline">Deadline:</label>
            <input type="date" id="deadline" name="deadline" value="<%- timeFormat(data.Topic.ClosedOn) %>" required><br>
            <input type="submit" value="Finish">
        </form>
    </div>
</body>
</html>